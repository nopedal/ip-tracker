<!DOCTYPE html>
<html lang="en">
<!-- Previous head section remains the same until style tag -->
<style>
    /* Previous styles remain the same until .login */
    
    .login-form {
        background: white;
        padding: 40px;
        border-radius: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: left;
        max-width: 400px;
        margin: 20px auto;
    }

    .login-form input {
        width: 100%;
        padding: 12px;
        margin: 8px 0;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        font-size: 16px;
    }

    .login-form label {
        font-weight: 500;
        color: #4a5568;
    }

    .or-divider {
        text-align: center;
        margin: 20px 0;
        position: relative;
    }

    .or-divider::before,
    .or-divider::after {
        content: '';
        position: absolute;
        top: 50%;
        width: 45%;
        height: 1px;
        background: #e2e8f0;
    }

    .or-divider::before { left: 0; }
    .or-divider::after { right: 0; }

    .chart-container {
        background: white;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 24px;
        border: 1px solid #e2e8f0;
    }

    .activity-feed {
        background: white;
        padding: 20px;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
    }

    .activity-item {
        padding: 12px 0;
        border-bottom: 1px solid #e2e8f0;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .activity-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #4299e1;
    }

    /* Previous styles remain */
</style>

<body>
    <div class="container">
        <div class="login">
            <h2>Welcome Back</h2>
            <p style="margin-bottom: 24px; color: #4a5568;">Sign in to access your dashboard</p>
            
            <form class="login-form" onsubmit="emailPasswordSignIn(event)">
                <label for="email">Email</label>
                <input type="email" id="email" required>
                
                <label for="password">Password</label>
                <input type="password" id="password" required>
                
                <button type="submit" style="width: 100%; margin-top: 16px;">Sign In</button>
            </form>

            <div class="or-divider">OR</div>

            <div id="g_id_onload"
                 data-client_id="52189727404-uheajopbr9ij6jqi470c1hgsv3spja1f.apps.googleusercontent.com"
                 data-callback="onSignIn"
                 data-auto_prompt="false">
            </div>
            <div class="g_id_signin" data-type="standard"></div>
        </div>

        <div class="dashboard">
            <!-- Previous dashboard header remains the same -->
            
            <div class="dashboard-content">
                <div class="stats-grid">
                    <!-- Previous stat cards remain -->
                    <div class="stat-card">
                        <h3>Conversion Rate</h3>
                        <div class="stat-value">5.8%</div>
                    </div>
                    <div class="stat-card">
                        <h3>Active Users</h3>
                        <div class="stat-value">892</div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3 style="margin-bottom: 16px;">Traffic Overview</h3>
                    <canvas id="trafficChart"></canvas>
                </div>

                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 24px;">
                    <div class="chart-container">
                        <h3 style="margin-bottom: 16px;">User Engagement</h3>
                        <canvas id="engagementChart"></canvas>
                    </div>

                    <div class="activity-feed">
                        <h3 style="margin-bottom: 16px;">Recent Activity</h3>
                        <div class="activity-item">
                            <div class="activity-indicator"></div>
                            <div>New user registration</div>
                            <div style="margin-left: auto; color: #718096;">2m ago</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-indicator" style="background: #48bb78;"></div>
                            <div>Purchase completed</div>
                            <div style="margin-left: auto; color: #718096;">15m ago</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-indicator" style="background: #ed8936;"></div>
                            <div>Support ticket opened</div>
                            <div style="margin-left: auto; color: #718096;">1h ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Previous Firebase initialization remains the same

        // Email/Password Sign In
        function emailPasswordSignIn(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            showLoading();
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    updateUIForUser(user);
                })
                .catch((error) => {
                    console.error("Auth Error:", error);
                    alert(error.message);
                })
                .finally(() => {
                    hideLoading();
                });
        }

        // Initialize charts
        function initializeCharts() {
            // Traffic Chart
            const trafficCtx = document.getElementById('trafficChart').getContext('2d');
            new Chart(trafficCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Page Views',
                        data: [4000, 3000, 5000, 4500, 6000, 5500],
                        borderColor: '#4299e1',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // Engagement Chart
            const engagementCtx = document.getElementById('engagementChart').getContext('2d');
            new Chart(engagementCtx, {
                type: 'bar',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
                    datasets: [{
                        label: 'Active Users',
                        data: [120, 150, 180, 90, 160],
                        backgroundColor: '#4299e1'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        // Initialize charts when user is authenticated
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                document.querySelector('.login').style.display = 'none';
                document.querySelector('.dashboard').style.display = 'block';
                document.getElementById('user-name').innerText = user.displayName || user.email;
                document.getElementById('user-avatar').innerText = getInitials(user.displayName || user.email);
                initializeCharts();
            } else {
                document.querySelector('.login').style.display = 'block';
                document.querySelector('.dashboard').style.display = 'none';
            }
        });

        // Previous functions (showLoading, hideLoading, getInitials) remain the same
    </script>
</body>
</html>